#define IHaveSubdirs
#define PassCDebugFlags 'CDEBUGFLAGS=$(CDEBUGFLAGS)'

SUBDIRS = lib

MakeSubdirs($(SUBDIRS))
MakeLintLibSubdirs($(SUBDIRS))
MakeLintSubdirs($(SUBDIRS),install.ln,install.ln)

BRUSHES = ./brushes/1x1 \
	./brushes/2x2 \
	./brushes/3x3 \
	./brushes/4x4

SRCS= CellEdit.c\
      cell_editor.c \
      cell_stats.c \
      create_editor.c \
      create_list.c \      
      load_menu.c \
      save_menu.c \
      utils.c

OBJS= CellEdit.o \
      cell_editor.o \
      cell_stats.o \
      create_editor.o \
      create_list.o \      
      load_menu.o \
      save_menu.o \
      utils.o

#
# EDIT THIS PATH FOR THE CORRECT INSTALL DIRECTORY
# Make sure the directory exists before install
#
# DEFBRUSHDIR = /usr/lib/X11/celledit/brushes
DEFBRUSHDIR = /home/grass3/src.new/berk/brushes

CC = /bin/cc
CDEBUGFLAGS = -g
EXTRA_LOAD_FLAGS = -Bstatic

XAWLIB = -lXaw
XMULIB = -lXmu
XTOOLLIB = -lXt
XEXTLIB = -lXext
XLIB = -lX11
GISLIBS = -L/home/grass3/src/libes/LIB.sun3 -lgis -lsegment -lm 
MYLIBS  = -L./lib -lbrush -lmisc -lgrass -lXutils
LOCAL_LIBRARIES = $(MYLIBS) \
		  $(XAWLIB) \
		  $(XMULIB) \
		  $(XTOOLLIB) \
		  $(XEXTLIB) \
		  $(XLIB) \
		  $(GISLIBS)

DEFINES = -DDEFBRUSHDIR="\"${DEFBRUSHDIR}\""
ComplexProgramTarget(celleditor)

celleditor: lib/libbrush.a lib/libXutils.a lib/libmisc.a lib/libgrass.a
InstallAppDefaults(Celleditor)
InstallMultiple($(BRUSHES), $(DEFBRUSHDIR)\/)
