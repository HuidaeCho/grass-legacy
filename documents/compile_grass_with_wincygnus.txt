$Id$

This directory contains the experimental binary
version of GRASS under WINDOWS/Cygnus.

NOTE: The graphical output is experimental!

        Please test it.

---------------------------------------------------------

1. Get latest GRASS source code.  This can be found on the page at:
http://www.geog.uni-hannover.de/grass/grass5/

2. To compile and link under the Windows NT/2000 go to
http://sources.redhat.com/cygwin/.  Click on the "Install Cygwin now"
icon, or the "install now" icon.  These start the setup.exe
download. Run the setup.exe program to download Cygwin.
It will prompt you for one of three choices, if you
have never loaded Cygwin software, select download
from the internet.   If you have a previous version,
you should know what to do.  If you have never done this,
it will prompt you for a directory (partition) to
install the files.

  If you are new to cygwin, you should look at some of the documentation
available at this site.

3. Download the sunrpc-4.0.cygwin1.bin.tar.gz file from Corinna Vinschen
  site and install the binary files:
ftp://ftp.franken.de/pub/win32/develop/gnuwin32/cygwin/porters/Vinschen_Corinna/B20

Yes, the cygwin 1.1 of rpc is available under her B20 directory.  Get
the binary (not the src), go to the root (/) and use tar to unbundle
it.  e.g.

cd /
tar xzf /your/path/to/the/sunrpc-4.0.cygwin1.bin.tar.gz

4. Download the cygipc-1.08-1.tar.gz file from

   http://www.neuro.gatech.edu/users/cwilson/cygutils/V1.1/cygipc/index.html

 To install, change to the root directory (/) and use tar to extract:

   tar xzf /[path-to]/cygipc-1.08-1.tar.gz

5. Download the cygwin-XFree binaries. Read about cygwin-XFree and obtain the
   latest faq and how-to at http://sources.redhat.com/cygwin/xfree/

   Download the binaries (clients and libraries) from their ftp site:

   ftp://sources.redhat.com/pub/cygwin/xfree/xc-4-binaries/

   Get all of the binary files and install as before from root (/)

6. Download an X-Server.  One that has been tested is can be obtained from

   Startnet:  http://www.starnet.com/products/  follow the downloads link.

   Instructions will be emailed to you telling you where to access the
   downloadable file.  This is a demo version that will time out after
   2 hours.  You can restart it again after it times out.

   or you can use the X-Server included in the Cygwin-XFree.  Note
   that this has some strange results, and only runs in full screen mode.
   Instructions for its use are in the how-to at the cygwin-Xfree site.
   You can go to any of the ftp mirror sites, for instance
   ftp://ftp.sunsite.utk.edu/pub/cygwin/xfree/win32-x11/
   and download the win32-x11.tar.bz2 file.  File names and 
   relative directories may change.  At the time of this
   writing, the date of that file was November, 2000.

-----------------------------------------------------------------------------

7. To start GRASS compilation proceed like this:

  In a cygwin command window (started with the desktop icon created by setup)

    # use the directory name for where you installed grass:
    cd /grass

    # set libs:    
    LIBS="-L/usr/X11R6/lib -lGLw -lGLU -lGL -lXm -lXt -lX11 -lSM -lICE -lXext"
    export LIBS

    # configure:
    rm -i config.cache
    ./configure -with-ipc --prefix=/usr/local --exec-prefix=/usr/local\
                --with-x-libs=/usr/X11R6/lib\
                --with-x-includes=/usr/X11R6/include --with-x

  Check the file src/command/head/head.  This will probably need changing.
  Change the appropriate lines in the src/CMD/head/head.i686-pc-cygwin
  head file to look like this:

 YACC                = bison -y
 COMPILE_FLAGS       = -O2 -I/usr/local/include
 XLIBPATH            = -L/usr/X11R6/lib -L/usr/local/lib
 XLIB                = -lSM -lICE -lX11 -lcygipc
 XDRLIB              = -lrpclib -lz -lcygipc

  Then proceed with compiling:

    make               (This installs to $GISBASE)
    make install       (This installs to $INST_DIR)


8.  To run GRASS.

    Start your X-Server. The starnet X-Server is started from the start
    menu as:

       Start->Programs->X-Win32->X-Win32

    Start a MS-Dos command window and type the following commands:

   SET DISPLAY=127.0.0.1:0.0
   SET PATH=\cygwin\bin;\cygwin\usr\X11R6\bin;\cygwin\usr\bin;\cygwin\usr\local\bin;%PATH%

   start /B \cygwin\usr\X11R6\bin\xterm -sl 1000 -sb -rightbar -ms red -fg
yellow -bg black -e bash

  These should be put into a dos .bat file for easier use.

9. In the bash window (or a cygwin command window)start the ipc daemon as:

    ipc-daemon&

10. Start GRASS.  In the bash window:

    grass5

    then follow the normal GRASS procedures.

   See the StartGrass shell script in both /bin and 
   in /usr/local/grass5 for steps 8,9, and 10



If you wish you can try the following:
1. Get the unixODBC source, build and install it.


For questions, send a message to the grass list grass5@geog.uni-hannover.de
