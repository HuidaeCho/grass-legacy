<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="Author" content="Andreas C. Lange">
   <meta name="GENERATOR" content="Mozilla/4.7 [de] (WinNT; I) [Netscape]">
   <title>GRASS 5.0 Cygwin Binary Install</title>
</head>
<body text="#000000" bgcolor="#FFFFFF" link="#0000EE" vlink="#551A8B" alink="#FF0000">

<center>
<h1>

<hr SIZE=5 NOSHADE WIDTH="100%">Installing
GRASS 5.0 on Win32 with Cygwin 1.x</h1></center>

<center>
<h1>
(arch i686-pc-cygwin)</h1>

<tt>
$Date$
</tt>
</center>

<hr SIZE=5 NOSHADE WIDTH="100%">
<h2>
Prerequisites:</h2>

<ul>
<li>
Windows NT 4.0 (SP3 or higher), Windows 2000 Professional
or Windows XP,<br>
(Windows 9x and Windows ME are unsupported)</li>
<li>
Cygwin, latest release,</li>

<li>
NTFS filesystem (FAT will not work!),</li>

<li>
X Window Server and Client (only needed for the
X-version of winGRASS)</li>

<li>
libraries and additions see below.</li>
</ul>
This text was written by Andreas Lange<!--
&lt;<i>Andreas.Lange@Rhein-Main.de</i>>-->.
Most of the text was taken out of the description from John Huddleston<!--
&lt;<i>John.Huddleston@usda.gov</i>>-->. Many thanks to Malcolm Blue <!--
&lt;<i>mblue@nb.sympatico.ca</i>>-->
for proof-reading. All errors and mistakes are of course mine.
<br>
<hr SIZE=5 NOSHADE WIDTH="100%">
<h2>
1. Get the Cygwin tools</h2>
The Cygwin tools are required to run UNIX
compliant applications on Windows.
<br>Get the latest version from <a href="http://sources.redhat.com/cygwin/download.html">http://sources.redhat.com/cygwin/download.html</a>.
<p>Download the file <tt>setup.exe</tt>
to a local disk, run it and follow the instructions.
<p>When installing the Cygwin tools, please
select all packages, or at least:
<ul>
<li>
ash, bash, bzip2, clear, cygwin, file, fileutils,
findutils, </li>
<br>gawk, gettext, grep, groff, gzip,
inetutils, jpeg,
less, libpng, 
<br>login, man, ncurses, opengl, perl, readline,
regex, 
<br>sed, sh-utils/shellutils, tar, tcltk,
tcsh, termcap, 
<br>texinfo, textutils, tiff, time, unzip,
w32api, 
<br>zip, zlib.
<li>
Remark: This list contains only the packages
that are strictly required for running GRASS. For production use of the
cygwin environment you will probably install other packages in addition. </li>
</ul>
Please select for the install directory a
local drive on your computer with enough space for the entire cygwin distribution
(150 MB without X11R6.4), the X Window System (additional 65 MB) and the
GRASS binaries (programs, about 150 MB). If you want to do real work, you
need at least another 500 MB for GRASS data storage.
<p>Additionally you will need the precompiled
X Window (XFree86, X11R6.4) System. See next paragraph.
<p>
<b>NOTE: When selecting the root install directory, make sure that
the "Default Text File Type" is set to Unix.</b>

<h2>
2. Install the X11 libraries and the X Server</h2>
<b>NOTE: not needed for the winGRASS with
generic display driver</b>
<p>

If you want to use the GRASS monitors (graphical output), you need the X
Server and the X11 libraries. Get them from <a
href="http://sources.redhat.com/cygwin/xfree/">http://sources.redhat.com/cygwin/xfree/</a>.
Download at least the following packages: DLLs, fonts, Prog, twm, Xterm,
Xwin. Please refer to the <a
href="http://sources.redhat.com/cygwin/xfree/docs/ug/">XFree
install guide</a> for further details.

<p>There are a lot of different free and commercial
servers. 
If you don't want to use the XFree Server (which is beta-quality and runs
only in full screen mode), you can download the StarNet X Server from
<a href="http://www.starnet.com/en/products/">http://www.starnet.com/en/products/</a>. This is a demo version that will time out
after 2 hours. You can restart it again after it times out. 
Currently only the XFree86 Server and the StarNet X Server have been tested with the GRASS distribution. 
The Microimages X Server will not work reliable with the X11R6.4 libraries
GRASS is linked with. 
<ul>
<li>
WeirdX, an X Window System Server in pure
Java under GNU GPL: <a href="http://www.jcraft.com/weirdx/index.html">http://www.jcraft.com/weirdx/index.html</a>.</li>
</ul>

<ul>
<li>
List of commercially available X servers:</li>

<br><a href="http://www.rahul.net/kenton/xsites.html">http://www.rahul.net/kenton/xsites.html</a></ul>

<ul>
<li>
Other, commercial servers are available:</li>

<ul>
<li>
MicroImages MI/X: <a href="http://tnt.microimages.com/www/html/freestuf/mix/">http://tnt.microimages.com/www/html/freestuf/mix/</a></li>

<li>
StarNet Demo: <a href="http://www.starnet.com/product.htm">http://www.starnet.com/product.htm</a></li>
</ul>
</ul>
<h2>
3. Get the latest binary distribution for
GRASS</h2>
Get the file
<br><a href="http://grass.itc.it/grass5/binary/windows_cygnus/">GRASS5.0.0_CYGWIN_NT-4.0_bin.tar.gz</a>
or a newer package
<br>from
<br><a href="http://grass.itc.it/grass5/binary/windows_cygnus/">http://grass.itc.it/grass5/binary/windows_cygnus/</a>
<p>And download the install script <a href="http://grass.itc.it/grass5/binary/windows_cygnus/">grass5install.sh</a>
from the same directory.

<h2>
3a. Get the sunrpc libraries
</h2>

The sunrpc package contains SUN rpc (remote procedure calls) which provides
the xdr (external data representation), a requirement for GRASS/Cygwin.
 
2/2003: there is now a native cygwin package sunrpc: Sun RPC (ONC/RPC)
libraries and utilities, which should give the same functionality. The
package can be installed with the cygwin setup.exe (expand the "Libs"
section).
<P>
Old method:  Download sunrpc package from:

<br><a
href="http://grass.itc.it/grass5/binary/windows_cygnus/sunrpc/">http://grass.itc.it/grass5/binary/windows_cygnus/sunrpc/</a>.
Open a Bash window on
your PC. Change the directory to the root directory and untar the file:
<pre>
cd /
tar xzf /where/ever/you/saved/this/sunrpc-4.0.cygwin1.bin.tar.gz
</pre>

<h2>
3b. Get the tcl/tk 8.x libraries
</h2>

The only GRASS features which require X are tcltkgrass and NVIZ.
Hopefully, it will be possible to use tcltkgrass on Cygwin without X
in the near future, although NVIZ will require X for the foreseeable
future.

<b>NOTE: If you want to use the winGRASS with generic display driver,
you don't need to install the tcl/tk 8.x libraries.</b>
<P>
<b>NOTE: Also, you need to ensure that the "official" Cygwin Tcl/Tk package
   *is not* installed.</b>
<p>
Download the actual precompiled x tcl/tk 8.x libraries and executables from
<br><a
href="http://grass.itc.it/grass5/binary/windows_cygnus/wingrass_xserver/">http://grass.itc.it/grass5/binary/windows_cygnus/wingrass_xserver/</a>.

<p>
Go to the root directory (<tt>cd /</tt>) and unpack this file:

<pre>
cd /
tar xzf /where/ever/you/saved/this/xtcltk-*.tar.gz
</pre>

<h2>
4. And now FINALLY to the GRASS installation</h2>
Log into the cygwin shell. Please check the
required disk space and permissions first. The default installation path
is <tt>/usr/local/grass5</tt>. Next:
<pre><tt>&nbsp; cd /wherever/you/saved/package</tt></pre>

<pre><tt>&nbsp; ./grass5install.sh GRASS5.0*_bin.tar.gz</tt></pre>
This will install the GRASS package under
<tt>/usr/local/grass5</tt> and store the start files under
<tt>/usr/local/bin</tt>. Please
note that the paths are all relative to the cygwin root (usually
<tt>C:\CYGWIN</tt>
or <tt>C:\PROGRAM FILES\CYGWIN</tt> or similar). Do not install the file
from the root directory of cygwin (<tt>C:\CYGWIN</tt> from Windows or
<tt>/</tt> from
within cygwin), due to some bug of cygwin this will result in an error. 
<p>Next you should install some data to test
GRASS. You can get the <tt>global_grass5data.tar.gz</tt> sample data set from <a href="http://grass.itc.it/data.html">http://grass.itc.it/data.html</a>.
Unpack the data with:
<pre><tt>tar xzf global_grass5data.tar.gz</tt></pre>
in an empty directory, e. g.
<tt>/home/andreas/data</tt>.
Again remember to do this from within the cygwin shell.

<h2>
5.&nbsp;<a NAME="Start GRASS"></a>Starting
GRASS 5</h2>

You can log into a GRASS session on the commandline
(no graphics monitors) by issuing '<tt>grass5</tt>' in the cygwin shell. Follow the
on-screen description and enter in the directories for your sample data.
You can use GRASS from within the cygwin shell for scripting/programming,
but without graphical output to screen.


For running GRASS with graphical output (X Window monitors) and the graphical 
user interface (tcltkgrass) you have two choices: 
Either with the XFree86 Server (not well tested) or with the StarNet demo 
or full product (recommended, tested, faster, simpler setup etc.).

<h3>XFree86</h3>
<p>For running the graphics monitors start
first the X Window Server by double-clicking on the <tt>startxwin.bat</tt> file
in <tt>/usr/X11R6/bin</tt>. In the xterminal that starts up, re-create your
login with <tt>bash --login -i</tt> and type in
<tt>/usr/local/bin/grass5</tt>
and you get the GRASS login screen. From there you can log into an GRASS
session.

<p>If you have problems starting up the X
Window Server, please check the path in the <tt>startxwin.bat</tt> file under
<tt>/usr/X11R6/bin</tt>.
In my case the path was wrong, you need to specify an absolute path (e.
g. <tt>C:\CYGWIN\USR\X11R6\BIN</tt>) for the Win32 console. If you have
problems starting the tcltkgrass GUI (e. g. <tt>libX11.dll</tt> not found),
check that you have <tt>/usr/X11R6/bin</tt> in your path. 

<p>You can switch back to the Windows screen by
pressing ALT-TAB (beware, this does not work on my system), you end the X Server with ALT-F4.

<h3>Star Net XWin-32</h3>
<p>On the server you can find a
<tt>StartGrass.bat</tt> 
script to put in your home directory. Please edit this file to adapt to your
local paths. This sets the PATH and all needed
environment variables and 
spawns an xterm window. From within that window run <tt>'grass5'</tt>.


<p>Please report any problems, errors and
solutions to the GRASS developers mailing list at 
<a href="mailto:grass5@grass.itc.it">grass5@grass.itc.it</a>
or the winGRASS mailing list at 
<a href="mailto:winGRASS@grass.itc.it">winGRASS@grass.itc.it</a>. 
(<a href="http://grass.itc.it/wingrass.html">See
subscription information</a>).

<h2>
6. This build was compiled with Cygwin 1.1.8</h2>
Read about Unix running under Windows here:
<ul>
<li>
<a href="http://sources.redhat.com/cygwin/docs.html">http://sources.redhat.com/cygwin/docs.html</a></li>
</ul>

<hr SIZE=5 NOSHADE WIDTH="100%">
Andreas Lange. 

$Date$

</body>
</html>
