.TH Gwatershed 2G G-language
.SH NAME
Gwatershed \- Watershed basin analysis program
.br
.I (G Language Tool)
.SH SYNOPSIS
.IP \fBGwatershed\fR 
.na
[-4]
el\*=\fIelevation_map\fR 
[pi\*=\fIpit_map\fR] 
[ov\*=\fIoverland_flow_map\fR]
[th\*=\fIbasin_threshold\fR] 
[ac\*=\fIaccumulation_map\fR]
[di\*=\fIdisplay_accumulation_map\fR]
[dr\*=\fIdrainage_pointer_map\fR] 
[ba\*=\fIwatershed_basin_map\fR] 
[se\*=\fIstream_segment_map\fR] 
[ha\*=\fIwatershed_half_basin_map\fR]
[ar\*=\fIARMSED_input_file_name\fR]
.ad
.SH DESCRIPTION
\fIGwatershed\fR generates a set of maps indicating the 
location of watershed basins, the information which helped to
create the basins, and information to interface with ARMSED, 
a stormwater runoff and sedimentation yield
model.  The input to the program is as follows:
.IP \fIel\fR
Grid cell map of elevation data.
.IP \fIpi\fR
Grid cell map of actual depressions in the landscape which are 
large enough to slow and store surface
runoff from a storm event.
.IP \fIov\fR
Cell input map indicating the amount of overland flow that each
cell will contribute to the watershed basin model.  If omitted,
\fIGwatershed\fR assumes a value of one for each cell.
.IP \fIth\fR
The minimum size of an individual watershed basin in either grid cells
(default) or
total overland flow amount (if the \fIoverland_flow_map\fR is used).
.IP \fIac\fR
The absolute value of each cell in this output map is the 
amount of overland flow that traverses the cell. 
Negative numbers indicate that those cells possibly have 
surface runoff from outside of the current
window.  Thus, any cells with negative values cannot have their 
surface runoff and sedimentation yields
calculated accurately.
.IP \fIdi\fR
Cell output of surface runoff accumulation with the values modified to
provide for easy display.  All negative accumulation values are changed
to zero.  All positive values above 60 are given a value of 60.
.IP \fIdr\fR
Cell output map of the "aspect" for each cell based on the 
algorithm in \fIGwatershed\fR.  The range of values are
from -8 to 8.  Multiplying the absolute value of the drainage pointer
by 60 will give the direction in degrees that the surface runoff
will travel from that cell.  Negative values indicate that 
surface runoff is leaving the current window.
.IP \fIba\fR
Cell output of watershed basins.  Each basin will be given a 
unique positive even integer.  0 values
indicate that the cell is not part of a watershed basin at the 
size of the current window.
.IP \fIse\fR
Cell output of stream segments.  Values will correspond to the 
watershed basin values.
.IP \fIha\fR
Cell output of watershed basins divided into left and right sides.
The right-hand side cell of the watershed basin (looking upstream) are 
given even values corresponding to the \fIwatershed_basin_map\fR. The
left-hand side cells of the watershed basin are given odd values which
are one less than the value of the \fIwatershed_basin_mpa\fR.
.IP \fIar\fR
ASCII file output that can be fed into the \fIgrass.armsed\fR program to 
calculate sedimentation yields and unit hydrographs.
.SH OPTIONS
.IP -4
Makes the program allow only horizontal and vertical movement for the
surface runoff.  This can be a useful option if the elevation data is 
fine enough to allow a more finite-element approach to hydrologic
modeling.  For normal elevation data (30 meter grid cell or coarser),
allowing drainage flow to travel in all eight directions is probably the
best move.
.SH NOTES
\fIGwatershed\fR uses the least cost search algorithm to determine the flow
of water over the landscape.  The algorithm is similiar to using \fIGcost\fR
and \fIGdrain\fR for every grid cell on the map.

The minimum size of drainage basins is only relevant for those basins that have no 
basins draining into them.  A watershed basin that has contributing basins should
be considered to have an area that includes the area of it's sub-basins.

Although \fIGwatershed\fR does not require the user to have the current window filled
with elevation values (ie. no masks or incomplete data), the results look rather poor
when zeroes are included in the data (assuming that the user is not dealing with 
information near sea level).  If there is zero data along the edge of the current 
window, that edge will not be able to propogate negative accumulation data to the rest of 
the map.  This might give the user a false sense of security about the quality 
of their data.  If there is incomplete data in the elevation map layer, reclass 
those zero values with a value greater than the highest elevation.  This way, 
the results will be more indicative of the actual hydrology.

\fIGwatershed\fR requires a basin threshold (th) to give watershed basin (ba), 
stream segment (se), or half watershed basin (ha) information.  \fIGwatershed\fR
requires half watershed basin information for the ARMSED interface file (ar).
The \fIgrass.armsed\fR interface needs half watershed basin information to 
compile the necessary soils and landcover data.
.SH SEE ALSO
\fIgrass.armsed[1]\fR
.SH "AUTHOR"
Charles Ehlschlaeger, U.S. Army Construction Engineering Research Laboratory
.br
Marjorie Larson, U.S. Army Construction Engineering Research Laboratory
