GRASS GIS programming style standards

$Id: STYLE_PROGRAMMING,v 1.6 2000-11-01 17:24:13 markus Exp $

Please improve this list!
 
 Get the latest GRASS 5 Programmer's Manual here:
   http://www.geog.uni-hannover.de/grass/grassdevel.html

 or (better) grab it from CVS server (Latex):
   cvs -z3 co progmangrass50

-----------------------------------------------------------
GRASS GIS programming style standards

1. Use the directory structure to place your module

2. documents go to
    ./html and
    ./man
   See local examples about documentation style. To convert
   to MAN format, the g.html2man can be used.

3. When writing Gmakefiles, use the current standard
   [insert module example here]

   Take care of this:

   Couple notes for your Gmakefiles: 
     - do not add libraries on a link line after the $(XDRLIB) $(MATHLIB)
     - please add them before these
     - The XDRLIB and MATHLIB may not go into the $(LIBES) line, but only
       into the $(CC) line.

4. Platform dependent code:
   Do not remove #ifdef __CYGWIN__ and/or #ifndef __CYGWIN__ lines and 
   their encapsulated lines from source code (one example was that someone
   removed drand48 definition.)

5. Insert return statements for functions

6. Use fprintf instead of printf

7. Put a new line at end-of-file

8. Don't use C++ comment style! This confuses several compilers.
   Use instead:
       /* C-comments */

9. If you add   
    $Id: STYLE_PROGRAMMING,v 1.6 2000-11-01 17:24:13 markus Exp $

    to a file for CVS-versioning, note that this is not allowed in the
    *first* line of a comment. Some compilers will get confused.

    Forbidden:

    /* $Id: STYLE_PROGRAMMING,v 1.6 2000-11-01 17:24:13 markus Exp $ */
 
    Allowed:
    /*
     * $Id: STYLE_PROGRAMMING,v 1.6 2000-11-01 17:24:13 markus Exp $
     */

...
[add further hints]