# %W%  %G%

LIB = $(LIBDIR)/libcoorcnv.a
EXTRA_CFLAGS = $(VECT_INCLUDE)

SUPPORT_FILES = db.layout tiger1.format
SUPPORT_DIR = $(ETC)/tiger_support

SCRIPTS = $(GISBASE)/scripts

all:	$(ETC)/c12.to.v $(ETC)/Gen.Vect  \
	$(SCRIPTS)/Gen.Maps $(SCRIPTS)/Gen.tractmap  \
	$(ETC)/tig.linefeed files

$(ETC)/c12.to.v: c12.to.v.o
	$(CC) $(LDFLAGS) c12.to.v.o $(LIB) $(DIG_ATTLIB) $(VECTLIB) \
		$(GISLIB) $(MATHLIB) -o $@

$(ETC)/tig.linefeed: linefeeds.o
	$(CC) $(LDFLAGS) linefeeds.o -o $@

$(SCRIPTS)/Gen.Maps: Gen.Maps
	cp Gen.Maps $(SCRIPTS)/Gen.Maps
	chmod +x $(SCRIPTS)/Gen.Maps

$(ETC)/Gen.Vect: Gen.Vect
	cp Gen.Vect $(ETC)/Gen.Vect
	chmod +x $(ETC)/Gen.Vect

$(SCRIPTS)/Gen.tractmap: Gen.tractmap
	cp Gen.tractmap $(SCRIPTS)/Gen.tractmap
	chmod +x $(SCRIPTS)/Gen.tractmap


files: $(SUPPORT_DIR)
	cp $(SUPPORT_FILES) $(SUPPORT_DIR)
	chmod +r $(SUPPORT_DIR)/*

$(SUPPORT_DIR):
	mkdir $@

$(LIB): # in case LIB changes
$(GISLIB): #
$(VECTLIB): #
$(DIG_ATTLIB): #
