#!/bin/sh
CHECK.MAP
if test $? = 1
	then
	exit
fi
CHOICES="[all] (fills) (labels) (legend) (lines) (mapdef) (misc) (symbols)" 
if test $# -ne 0; then
	answ="$*"
else
	echo
	echo Choices are: $CHOICES
	echo
	answ=l
fi
while test "$answ" = "l"
do
echo "Enter the name(s) of the options you wish to redo (separated by spaces)"
echo -n "or (l)ist: "
read answ
answ=${answ:-all}
if test "$answ" = "l"
	then
	echo $CHOICES
fi
done
for i in $answ
do
if test $i = "all" -o "$i" = "mapdef"
	then
	ls *.par | sed -e "s/\.par//"
	redo.mapdef `ls *.par | sed -e "s/\.par//"` 1> /dev/null 2>&1
	i=all
fi
if test -d labels -a $i = "all" -o "$i" = "labels"
	then
	redo.label `ls labels`
fi
if test -d fills -a $i = "all" -o "$i" = "fills" 
	then
	redo.fill `ls fills | sed -e s/cat//`
	DOLEG=yes
fi
if test -d lines -a $i = "all" -o "$i" = "lines"
	then
	redo.line `ls lines`
	DOLEG=yes
fi
if test -d symbols -a $i = "all" -o "$i" = "symbols"
	then
	redo.symbol `ls symbols`
	DOLEG=yes
fi
if test -d misc -a $i = "all" -o "$i" = "misc"
	then
	redo.misc `ls misc`
fi
if test $i = "all" -o "$i" = "legend"
	then
	DOLEG=yes
fi
done
if test -d legend/cmd -a "$DOLEG" = "yes" 
	then
	tmp=`ls legend/cmd`
	redo.legend $tmp
fi
