.\" @(#)plotter.1 - 1.1
.nr LL 5.5i
.TH PLOTTER 1 2/20/89 "USGS/OEMG Systems"
.ad b
.hy 1
.SH NAME
plotter - plotting of metagraphic stream
.SH SYNOPSIS
.LP
.B plotter
[ -diorspPD [args] ] [ file(s) ]
.SH DESCRIPTION
.B Plotter
interprets a metagraphic stream and reformats the data
into a form acceptable by the selected graphics device.

Except for the
.B -p
option
the following command line control parameters can appear in any order:
.TP
.BI \-d " name"
.br
.I name
defines the name of the plotting device to which the output
is to be directed.
If
.I name
is omitted,
.B plotter
acquires the name of the device from the
.B GTERM
entry of the processes' environment or the
.B TERM
entry if
.B GTERM is not specified.
If
.I name
or the default terminal is not an implemented device,
.B plotter
proceeds with a dummy device and effectively acts as a no_op.
.TP
.BI \-s " scale"
.br
.I Scale
must be a floating point value which will scale the coordinates
values of the input metagraphic stream.
.TP
.BI \-o " output"
.br
This option directs the device dependent graphic command to file
.I output.
This option is only required for non-terminal devices not
defined in the users environment setting for GRAPHB.
In all cases, it will redirect the plotter command stream to
the named file.
.TP
.BI \-i " m.n"
.br
This option only applies to the interactive use of
.B plotter
by programs performing graphics.
It should not be employed by
.I shell
execution of
.B plotter.
.I M.n
are automatically generated by graphics library software.
.I M
is the file descriptor for the input metagraphic data pipe to
.B plotter
and
.I n
is the file descriptor of the return data pipe to the calling
program.
.TP
.BI \-q
.br
This option alerts interactive display drivers not to sound
console bell and wait for a <CR> at the end of a plot.
Its primary purpose is with cursor control applications which
hold the screen with cursor input and where plot termination
is at user's cursor input control.
.TP
.BI \-r
.br
If this option is selected, the x and y axis are reversed on
the plotting device.
.TP
.BI \-[p|P] "m:n[,m:n]"
.br
Mapping the mechanical pens selected in the original
overlay files to new mechanical pens may be accomplished with
this option.
This option is sensitive to its position on the run line
and only affects overlay files that follow its specification.
It may be employed on the run-line as often as meaningful.
.IP
The argument pair
.I m:n
(immediately following the
.B -p
or
.B -P
)
consist of the original mechanical pen number
.I m
and the new mechanical pen number
.I n
to be employed in this plot.
.I M
may also denote a range of original mechanical pen numbers when a -
is employed.
For example: 3-6:0 maps original values 3 through 6 to new pen 0,
0-3:5 or -3:5 maps pens 0 through 3 to new pen 5, and
3-:2 maps pen 3 through 255 to pen 2.
.IP
The
.B -P
option applies to interactive applications where the pen mapping
is to be performed once before any graphic processing.
.TP
.BI \-Dstring
.br
.I String
is information passed to the selected device driver.
Reference to specific driver documentation must be made for details
of content.
.TP
.BI file(s)
.br
The files named must contain metagraphic commands compatible
with this system (see Device Independent Graphics manual).
The files are processed in a left to right order.
A \- may be employed to designate input from
.I stdin.
If no files are given and option
.B \-i
is not employed,
.I stdin
is assumed as the source of the metagraphic stream.
.SH ENVIRONMENT
.P
.B Plotter
requires the environment entry
.B GRAPHB
which is also employed by application software employing this
graphics system.
The general
.B csh
method of initializing this environment parameter is:
.RS 4
.sp
\f(CWsetenv GRAPHB prog_path:fonts_path:def_font[:dev,file]:\fR
.sp
.RE
where
.I prog_path
is the full path name of program
.B plotter,
.I fonts_path
is the directory containing the font definition data, and
.I def_font
is the default font name in
.I fonts_path
employed when only a - font name is used.
.I Dev,file
is an optional list of plotting devices and their output file name.
Note that each plotter entry must be separated by a : and
associated file delimited with a ,.
The following is an example entry:
.RS 4
.sp
\f(CWsetenv GRAPHB /graph/plotter:/graph/fonts/:sr:hp7475,/dev/ttym2:\fR
.RE
.SH EXAMPLE
plotter file1 file2 -s 4
.sp
will generate a composite plot of both files on the user's terminal
and will have the coordinates scaled by a factor of 4.
Obviously, the terminal should be a device capable of graphic
output.
.sp
\f(CWplotter file1 -p1:0 file2 -sdo .25 calcomp caltemp\fR
.sp
will scale the meta-graphic files by 1/4 and output the 
.I calcomp
plotter control to the disc file
.I caltemp.
The mechanical pen 1 of metagraphic
.I file2
is mapped to pen 0;
.SH SEE ALSO
 Device Independent Vector Graphics manual.
 Documentation of specific graphic devices.
 GRAPHICS(3)
.SH DIAGNOSTICS
If an invalid graphics device is selected, a message is
output to
.I stderr
and all input data are ignored.
Additional error conditions are available only though
bidirectional linkage with controlling process.
.SH AUTHOR/MAINTENANCE
Gerald I. Evenden, USGS, Woods Hole, MA 02543
