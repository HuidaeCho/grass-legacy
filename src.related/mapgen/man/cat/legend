





_l_e_g_e_n_d - _c_r_e_a_t_e _o_v_e_r_l_a_y _o_f _l_e_g_e_n_d _i_n_f_o_r_m_a_t_i_o_n


_l_e_g_e_n_d [ -oaci [args]] [ -m ] def_file [ files ]

_L_e_g_e_n_d is a graphic  function  in  the  graphic  series
which provides for creating overlays of legend informa-
tion such as titles, scale bars, etc..

     Most of the following options can  appear  in  any
order:  This  option specifies the required map or plot
definition file.  If the -_m is omitted,  _d_e_f__f_i_l_e  must
be  the  first  file listed.  This option specifies the
name of the overlay metagraphic  file  to  be  created.
Similar  to the -_o option except that if the named file
already exists graphic data will be appended.  If  this
option  is specified a preview of the plot is output to
the controlling terminal.  If the -_o or  -_a  option  is
omitted, then -_i is implied.  This options provides for
run-line inclusion of graphic options listed below.  If
there  is  more than one option or imbedded blanks, the
field must be enclosed in quotes or apostrophies.   The
contents of this option is processed before the control
files.

     One or more _f_i_l_e_s containing control  and  graphic
operations associated with the legend overlay.

The following options provide for graphic  control  and
may  only  appear in the control file[s] or the -c run-
line argument.  _F_o_n_t is the name of the graphics system
character set font to be employed in subsequent charac-
ter plotting.  A - will select the system default font.
This  option and -_s must be selected prior to any char-
acter operations.  _F_o_n_t is similar  to  the  -_f  option
except  that  it  selects  an alternate character font.
This font will be selected when  ^B  control  character
occurs  in  a text string.  A ^A control character will
reselect the -_f font.  Size and other attibutes of  the
alternate  character  are  set  as per the normal font.
_S_i_z_e is the nominal size of the character set  selected
in  centimeters.   This  option provides for control of
symbol plotting in a manner similar to  character  con-
trol  options.   selects  the  symbol font, sets symbol
size, and sets symbol rotation.  will post  the  symbol
selected  by _s_y_m at the current x-y coordinate.  If the
first character of sym is a decimal digit then  _s_y_m  is
assumed  to  be the numeric -decimal (1-9), octal (0n),
or hexadecimal (0xn)- value  of  the  selected  symbol;
otherwise,  it is assumed to be the ascii equivalent of
the selected symbol.  This option selects  the  desired
_l_e_a_d_i_n_g or spacing desired between multiple print lines
generated by the -_t option.  The units of  _l_e_a_d_i_n_g  are
in  centimeters.   _V_a_l  sets  offset  in centimeters of



                     June 4, 1991





                         - 2 -


character  text  from  the  selected  _x/_y  coordinates.
Offset is made before rotation.  This option is similar
to -_o_x except that _v_a_l refers to the y-axis.  The  base
position of subsequent graphic options is determined by
the coordinates specified by -_x and -_y argument coordi-
nates.   The  numeric  value  of  the _c_o_o_r_d argument is
always in centimeters.  If  the  value  is  immediately
preceded by a > symbol, then the coordinate is relative
to either the right or top edge of the current  region.
If  the value is immediately preceded by a | symbol, it
is relative to the median of the respective axis;  oth-
erwise,  the  value  is relative to the lower left hand
corner of the currently selected region.  See  also  -_w
command for selection region of reference.  This option
specifies which of the two basic regions  of  the  plot
sheet  are  begin  referred to with the -_x/_y coordinate
values.  The value of _r_e_g_i_o_n should be either  p  or  d
corresponding  to  the  respective  basic plot sheet or
data region.  The effect of this command will remain in
effect until another -_w command.  The default region is
p.  This option generates a scale  bar.   _S_i_z_e  is  the
scale bar ticked elements in integral units selected by
_u_n_i_t.  If _u_n_i_t is a numeric value,  it  represents  the
number  of meters in one basic unit.  Otherwise it must
be one of the following unit types:
      ft     - feet
      kf     - kilofeet
      m      - meters
      km     - kilometers
      yd     - yards
      ky     - kiloyards
      mi     - statute miles
      kn     - nautical miles

     _R_e_p is the number of times the unit  part  of  the
     scale  bar  is  repeated.  If _l_e_f_t is given then a
     unit left of the '0' position of the scale bar  is
     generated  with  _l_e_f_t  subdivisions.  If a numeric
     _u_n_i_t is given then _n_a_m_e will be used as the source
     of  the  titling  of  the scale bar.  In all cases
     where ascii _u_n_i_t is given the scale bar title _n_a_m_e
     field   is  generated  automatically.   Note  that
     currently selected font and character size  deter-
     mine  drafting  characteristics  of  the scale bar
     annotation and the current x/y coordinates  deter-
     mine  the  location of the bottom of the '0' value
     of the scale bar.  The y-axis size required by the
     scale  bar  is  about  3 times the character size.
     Horizontal size depends upon map scale and  number
     of  bar  elements  selected,  selection of _l_e_f_t as
     well as _u_n_i_t_s.  This option will cause  the  scale
     fraction  value to be printed at the current coor-
     dinates.  Character font and size must  have  been
     previously  specified.  _O_p_t must be either l, c or



                     June 4, 1991





                         - 3 -


     r which respectively  select  left,  centered,  or
     right justification of graphic.  All lines follow-
     ing this option are considered text to be  plotted
     at  the  current  coordinate position.  A '.' must
     appear in column 1 to terminate  the  text.   Note
     that  an  appropriate  value  of leading must have
     been previously made for line spacing.  The escape
     sequence  \ooo  may  be employed to enter normally
     non-printing characters into the  text  stream  by
     entering their octal value ooo (\xhh may be alter-
     nately employed where hh is the hexadecimal  value
     of  the  character).   This  option  should not be
     employed on the same control line as option -_L  or
     -_B.   This  option  allows  the  use of the device
     independent form of _t_r_o_f_f to  be  used  to  format
     textual  material for inclusion as legend informa-
     tion.  The file _t_e_x_t  contains  _t_r_o_f_f  and/or  _e_q_n
     (when  _E  option  used)  source  data (control and
     text) to be plotted.  Current _x and _y values  will
     determine  the  location  of  the  upper left-hand
     corner of the formatted text.  It  is  recommended
     that  the  first  control lines of the source text
     be:
          \!x U <real number>i (optional page width)
          .po 0  (don't bother with left margin)
          .ll <real number>i (line length)
     The first line is required if multiple  pages  are
     expected.   The  <real number> is the offset to be
     applied when plotting multiple pages  as  multiple
     columns.   The i suffix in both the page width and
     line length options may be either c, p, or i which
     specifies the respective centimeter, point or inch
     units of the numeric prefix.  _A_n_g is the number of
     degrees  that character plotting operations are to
     be rotated form the positive x direction.  _P_e_n  is
     a  mechanical  pen  number  to  be employed.  This
     option provides for  controlling  the  method  and
     character of lines.  -L designates normal point to
     point vector drafting and -B  selects  four  point
     Bezier  method of creating smooth lines.  Argument
     _p_e_n designates the mechanical pen to  be  employed
     in drafting and must be specified with each usage.
     The remaining arguments may be  optionally  speci-
     fied  but  when omitted the position must be indi-
     cated with appropriate comma (,) delimiters (ie. #
     -B 0,,,1,.2,\010 #- _m_a_s_k and _s_i_z_e unaltered).

     _M_a_s_k and _s_i_z_e control  dash  line  drafting  where
     _m_a_s_k  is  specification of the 16 bit dash pattern
     to be employed and _s_i_z_e is the  size  of  the  bit
     element  of the mask pattern in centimeters.  Note
     that the total  length  of  the  dash  pattern  is
     16x_s_i_z_e  centimeters.   If _m_a_s_k is -1 then a solid
     line is drafted and _s_i_z_e is ignored and when  _m_a_s_k



                     June 4, 1991





                         - 4 -


     is 0 line drafting is suspended (0 is usually only
     employed with symbol line drafting).  _M_a_s_k is usu-
     ally  specified as a hexadecimal value (ie. 0xCCCC
     for a small dash bit pattern of 1010101010101010)

     Lines with symbol patterns may be created by using
     the  _d_i_s_t,ssize  and _s_t_r options where _d_i_s_t is the
     inter-symbol distance in centimeters, _s_s_i_z_e is the
     size of the symbol in centimeters.

     _S_t_r is any string of one to 128  symbols  selected
     from the selected character font to be employed in
     a repeated manner when drafting symbol  lines.   A
     special symbol (\177) may be employed to denote an
     empty point in the symbol  sequence.   Any  symbol
     (including  the  empty point symbol) with the most
     significant bit (sign) set will cause 180 rotation
     of the current and following _s_t_r (if any) symbols.
     At the start of each cycle through _s_t_r the charac-
     ter rotation is set to 0 so that if a line is pro-
     gressing from  left  to  right  the  symbol  would
     appear  right  side  up.  If a single symbol is to
     appear in a reverse manner  then  \200  should  be
     added  (i.e.  a reverse rotation letter A would be
     \301).  To  create  a  sequence  of  symbols  with
     alternating rotation then two or more symbols must
     be used with the sign set  on  some  symbol  other
     than  the first.  For example, -a A\301 will cause
     the letter A to be plotted with alternating  rota-
     tion.

     The cyclic operation though _s_t_r can  be  inhibited
     by  terminating  _s_t_r with the \377 special charac-
     ter.  This permits this option to be employed  for
     drafting  curved annotation based on the following
     line data.  With this feature the drafting of  the
     line   is   normally   turned   off   (ie.   #  -L
     ,0,,.01,.3,Example\ Line\377).

     Coordinates of the line to be drafted  follow  the
     current  command  line with one x-y pair per line.
     The string of coordinates must be terminated  with
     a  '.' in column 1 (similar to -_t option).  Use of
     + and - sign prefixes follow the same  meaning  as
     defined under the -_x/_y option.  This option should
     not be employed on the same control line as option
     -_t.

     The older verson of _l_e_g_e_n_d,plegend, is replaced by
this program.

_t_r_o_f_f _a_n_d _p_l_r_o_f_f





                     June 4, 1991





                         - 5 -


_T_h_e -_T _o_p_t_i_o_n _i_s _o_n_l_y _a_v_a_i_l_a_b_l_e _o_n _V._2 _o_r _l_a_t_e_r _s_y_s_t_e_m_s
_w_i_t_h _d_e_v_i_c_e _i_n_d_e_p_e_n_d_e_n_t _t_r_o_f_f.

_G_e_r_a_l_d _I. _E_v_e_n_d_e_n, _U_S_G_S, _W_o_o_d_s _H_o_l_e, _M_A.





















































                     June 4, 1991


