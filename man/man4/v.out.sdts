.THv.out.sdts
.SH NAME
\fIv.out.sdts\fR \ - Creates an SDTS dataset conforming to the Topological 
Vector Profile from a GRASS vector map layer.
.br
\fI(GRASS Vector Data Export/Processing Program)\fR
.br
.SH SYNOPSIS
\fBv.out.sdts\fR
.br
\fBv.out.sdts help\fR
.br
\fBv.out.sdts\fR [\fB-am\fR] \fBinput\fR=\fIname\fR [\fBpath\fR=\fIname\fR] \fBoutput\fR=\fIname\fR
.br
.SH DESCRIPTION
\fIv.out.sdts\fR creates an SDTS dataset that conforms to the requirements of both
the federal Spatial Data Transfer Standard and the SDTS Topological Vector
Profile.  It creates the dataset from the files associated with a vector
map layer which is specified by the user.  The files that make up the SDTS
dataset are output to the current directory, unless otherwise specified by
the user (with the path parameter).  The output dataset is in the mandatory
ISO 8211 (FIPS 123) format; the ISO 8211/SDTS output files can be inspected 
with \fIm.sdts.read\fR. 
.sp
.SH "COMMAND LINE OPTIONS"
.LP
\fBFlags:\fR
.IP \fB-a\fR 16
transfer Lines of "AREA type" only; omit Lines of "LINE type" from output 
SDTS dataset.
.IP \fB-m\fR 16
access user-defined metadata file. This file is typically, but not
necessarily, created with \fIv.sdts.meta\fR.  See the discussion of
SDTS data quality files and metadata below.
.LP
\fBParameters:\fR
.IP \fBinput\*=\fIname\fR 16  
name of vector map layer from which the SDTS dataset wil be created.
.sp
.IP \fBpath\*=\fIname\fR 16
full path to location for placement of output SDTS dataset.
Path must exist and be writable by the user.  If path is not
specified, dataset will be output to the current directory.
.sp
.IP \fBoutput\*=\fIname\fR
four-character string to be used as prefix for each of the output
SDTS files.  Can be any combination of letters and digits, 
although letters must be upper-case.
.sp
.LP
.SH "LINE TYPES IN GRASS AND SDTS"
.LP
GRASS makes a distinction between types of lines, between those that are
edges of areas or polygons and those that are not.  GRASS handles these
types different topologically: AREA type lines carry pointers to left and
right polygons, but LINE type lines carry no such pointers.
.LP
The SDTS Topological Vector Profile, however, does not distinguish line 
types, and does require that ALL lines carry left and right polygon references.
This has meant that during the export process topology-building algorithms
are applied to construct the missing topology that SDTS requires.  A
potential problem arises, however, with the transfer of object attributes
in certain circumstances. E.g. if a polygon in GRASS is bisected by a
line of type LINE, the resulting SDTS dataset will contain two polygons
where only one existed in GRASS: should both these polygons be assigned the
attribute of the original, now non-existent polygon?  The "-a" option,
which transfers only AREA type lines, works around this problem. 
.sp
.SH "SDTS REQUIREMENTS: DATA QUALITY REPORTS"
.sp
SDTS datasets are required to contain 5 different data quality report modules,
for Lineage, Positional Accuracy, Attribute Accuracy, Logical Consistency,
and Completeness.  When \fIv.out.sdts\fR is run, it searches in the user's
mapset's \fIdig_misc\fR directory for appropriate files, one for each module, 
containing 
narrative text in ASCII format.  If found, they are converted to 
SDTS/ISO 8211 format and added to the export dataset; warning messages are 
displayed if any data quality modules are missing.
.LP
Data quality reports can be created, and installed in the proper location under
\fIdig_misc\fR, with \fIv.sdts.meta\fR.
.sp
.SH "OTHER METADATA"
.LP
When \fIv.out.sdts\fR is run, if the "-m" flag is set, the program searches in
the \fIdig_misc\fR directory for a supplementary metadata file for the map layer
being transferred.  If found, its contents are incorporated in the SDTS
dataset. This file can be created and installed with \fIv.sdts.meta\fR; for
details see the \fIman\fR page for this program.
.sp
.SH "SDTS REQUIREMENTS: THE 'README' FILE"
.LP
In addition to the files created by v.out.sdts, every SDTS transfer must
contain a README file.  This file is not generated by \fIv.out.sdts\fR, and
must be created by hand. It should contain:
.IP
"volume name [if appropriate], date, a list of SDTS transfers (if more than
one), and then for each SDTS transfer: a list of subdirectories and non-SDTS
files, if approriate, the file name of the Catalog/Directory module,
where it can be found, and an explanation that this file and all other SDTS
files are in ISO 8211 format, and that the Catalog/Directgory module carries
a complete directory to all other SDTS ISO 8211 files comprising the SDTS
transfer, notes about any non-SDTS adjunct/auxiliary files, a brief
explanation of the spatial domain, the purpose, authority (FIPS 173), source
(e.g. agency name) and contacts within the source organization...."
(\fISDTS, IV: Topological Vector Profile, 6.10\fR).
.br
.SH "GRASS ATTRIBUTES IN THE SDTS DATASET"
.LP
The SDTS dataset produced by \fIv.out.sdts\fR contains two attribute module
files.  One, containing attribute module "AP00", stores global attributes, 
i.e., metadata items
applicable to the entire transfer (most are derived from the \fIdig\fR file 
header).  The second holds attribute module "AP01", and contains records with 
two fields: ATTR_NUM contains \fIdig_att\fR integer values; and ATTR_LABEL 
contains the corresponding labels or descriptions from the \fIdig_cats\fR file.
.sp
.SH RESTRICTIONS
.LP
Currently, the user can only create an SDTS dataset from a single vector
map layer in his or her mapset at a time.
.sp
.SH "SEE ALSO"
.LP
GRASS-SDTS User Guide
.br
\fIv.sdts.meta, v.sdts.meta.cp, v.sdts.dq.cp, v.in.sdts, m.sdts.read\fR
.sp
.SH AUTHORS
.LP
David Stigberg, U.S. Army Construction Engineering Research Laboratories
.br
Tin Qian, University of Illinois
