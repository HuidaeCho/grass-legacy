#!/bin/sh
# Startup script for tcltkgrass
# to make tcltkgrass independent of local wish8.x installation
# The script searches for wish8.x and starts tcltkgrass

# Markus Neteler
# $Id: tcltkgrass,v 1.4 2000-11-21 17:49:44 markus Exp $

#searching for wish8.x:
SEARCHCOMMAND=wish8
CURR_DIR=`pwd`

k=0
PATHLIST=""
found=0

SEARCHPATHS=`echo $PATH | tr -s ':' ' '`
for i in $SEARCHPATHS ; do
   k=`expr $k + 1`
   cd $i > /dev/null
   ls -1 |grep $SEARCHCOMMAND > /dev/null
   if [ $? = 0 ]
   then
      #found
      found=`expr $found + 1`
      PATHLIST="$i/`ls -1 |grep $SEARCHCOMMAND` $PATHLIST"
   fi
done

cd $CURR_DIR

#now all wish8.x are stored in $PATHLIST
#take the first and start tcltkgrass
if [ $found -gt 0 ]
then
  WISH=`echo "$PATHLIST"| cut -d' ' -f1`
  $GISBASE/etc/tcltkgrass.start $WISH&
else
 echo ""
 echo "ERROR: wish not found! Please install tcl8.x and tk8.x libraries"
 echo "Hit key to continue."
 exit 1
fi
