.TH Gcorr 2G G-language
.SH NAME
Gcorr \- Prints correlation matrix for cell files
.br	
.I (G Language Tool)
.SH SYNOPSIS
\fBGcorr\fR \fIlayer1\fR [\fIlayer2\fR] ...
.SH DESCRIPTION
.I Gcorr 
prints a correlation matrix for user-specified
grid cell data layers.
The layer name(s) MUST be supplied on the command line. The output can be saved
by redirecting it into a file.

The output is an N x N symmetric correlation matrix, where N is the number
of cell files specified on the command line, e.g.,

.RS
Gcorr layer.1 layer.2 layer.3
.RE

would produce a 3x3 matrix (values are example only):

.RS
.TS
tab(:);
nnnn.
1.000000:0.985860:0.714107
0.985860:1.000000:0.671468
0.714107:0.671468:1.000000
.TE
.RE

.SH PRINCIPLE COMPONENTS
This module can be used as the first step of a principle components transformation.
The correlation matrix would be input into a system which determines eigen values and
eigen vectors. An NxN correlation matrix would result in N real eigen values and
N eigen vectors (each composed of N real numbers). In the above example, the eigen values
and corresponding eigen vectors
for the correlation matrix are:

.TS
center tab(:);
cccssss
nnrnnnl.
component:eigen value:eigen vector
1:2.589790:<:-0.708080:-0.697934:-0.612839:>:86.33
2:0.012327:<:-0.669069:0.630271:0.055261:>:0.41
3:0.397883:<:0.300597:0.388328:-0.789561:>:13.26
.TE

The component corresponding to each vector can be produced using
.I Gmapcalc
as follows:

.nf
.ce 3
Gmapcalc\ 'pc.1 = \-0.708080*layer.1 \- 0.697934*layer.2 \- 0.612839*layer.3'
Gmapcalc\ 'pc.2 = \-0.669069*layer.1 + 0.630271*layer.2 + 0.055261*layer.3'
Gmapcalc\ 'pc.3 = 0.300597*layer.1 + 0.388328*layer.1 \- 0.789561*layer.3'
.fi

Note that based on the relative sizes of the eigen values,
.I pc.1
will contain about 86% of the variance in the data set,
.I pc.2 
will contain less than 1% of the variance in the data set, and
.I pc.3
will contain about 13% of the variance in the data set.

Also, note that the range of values produced in pc.1, pc.2, and pc.3 will
not (in general) be the same as those for layer.1, layer.2, and layer.3.
It may be necessary to rescale pc.1, pc.2 and pc.3 to the desired range (e.g. 0-255).
This can be done with
.I rescale
or
.I Grescale.
.SH NOTES
Code to produce eigen vectors is currently under development. If your
system has a fortran compiler, then the program 
.I eigensystem
can be compiled and used to generate the eigen values and vectors.
.SH SEE ALSO
eigensytem[2],
Gmapcalc[2],
Grescale[2],
Gcovar[2]
.SH AUTHOR
Michael Shapiro, U.S. Army Construction Engineering Research Laboratory
