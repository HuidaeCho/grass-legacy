.TH Gcovar 2G G-language
.SH NAME
Gcovar \- Prints covariance matrix for cell files
.br	
.I (G Language Tool)
.SH SYNOPSIS
\fBGcovar\fR \fIlayer1\fR [\fIlayer2\fR] ...
.SH DESCRIPTION
.I Gcovar 
prints a covariance matrix for user-specified
grid cell data layers.
The layer name(s) MUST be supplied on the command line. The output can be saved
by redirecting it into a file.

The output is an N x N symmetric covariance matrix, where N is the number
of cell files specified on the command line, e.g.,

.RS
Gcovar layer.1 layer.2 layer.3
.RE

would produce a 3x3 matrix (values are example only):

.RS
.TS
tab(:);
nnnn.
462.876649:480.411218:281.758307
480.411218:513.015646:278.914813
281.758307:278.914813:336.326645
.TE
.RE

.SH PRINCIPLE COMPONENTS
This module can be used as the first step of a principle components transformation.
The covariance matrix would be input into a system which determines eigen values and
eigen vectors. An NxN covariance matrix would result in N real eigen values and
N eigen vectors (each composed of N real numbers). In the above example, the eigen values
and corresponding eigen vectors
for the covariance matrix are:

.TS
center tab(:);
cccssss
nnrnnnl.
component:eigen value:eigen vector
1:1159.745202:<:0.691002:0.720528:0.480511:>
2:5.970541:<:0.711939:-0.635820:-0.070394:>
3:146.503197:<:0.226584:0.347470:-0.846873:>
.TE

The component corresponding to each vector can be produced using
.I Gmapcalc
as follows:

.nf
.ce 3
Gmapcalc\ 'pc.1 = 0.691002*layer.1 + 0.720528*layer.2 + 0.480511*layer.3'
Gmapcalc\ 'pc.2 = 0.711939*layer.1 \- 0.635820*layer.2 \- 0.070394*layer.3'
Gmapcalc\ 'pc.3 = 0.226584*layer.1 + 0.347470*layer.1 \- 0.846873*layer.3'
.fi

Note that based on the relative sizes of the eigen values,
.I pc.1
will contain about 88% of the variance in the data set,
.I pc.2 
will contain about 1% of the variance in the data set, and
.I pc.3
will contain about 11% of the variance in the data set.

Also, note that the range of values produced in pc.1, pc.2, and pc.3 will
not (in general) be the same as those for layer.1, layer.2, and layer.3.
It may be necessary to rescale pc.1, pc.2 and pc.3 to the desired range (e.g. 0-255).
This can be done with
.I rescale
or
.I Grescale.
.SH NOTES
Code to produce eigen vectors is currently under development. If your
system has a fortran compiler, then the program 
.I eigensystem
can be compiled and used to generate the eigen values and vectors.
.SH SEE ALSO
eigensytem[2],
Gmapcalc[2],
Grescale[2],
Gcorr[2]
.SH AUTHOR
Michael Shapiro, U.S. Army Construction Engineering Research Laboratory
