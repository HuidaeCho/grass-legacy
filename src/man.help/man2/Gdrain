.TH Gdrain 2G G-language
.SH NAME
Gdrain \- Traces a flow through an elevation model
.br
\fI(G Language Tool)\fR
.SH SYNOPSIS
.IP \fBGdrain\fR 8
\fIoutput input E,N [E,N] ...\fR
.IP \fBGdrain\fR
\fIoutput input\fR
.IP \fBGdrain\fR
output=\fImapname\fR input=\fImapname\fR coor=\fIE,N\fR [coor=\fIE,N\fR] ...
.SH DESCRIPTION
.I Gdrain
traces a flow through a lowest cost path in an elevation model.
The 
.I elevation
surface might be the cumulative
cost map generated by the
.I Gcost
tool.  The output result
will show one or more lowest-cost paths between each user-provided
location and the low spot in the model.  Consider the
following example:

.NF
Input:                            Output:
   ELEVATION SURFACE                 LEAST COST PATH
 . . ----- . . . . . . . . . .      . . . . . . . . . . . . . . .
 . 20| 19| 17. 16. 17. 16. 16.      .   . 1 . 1 . 1 .   .   .   .
 . . |___| . . . . . . . . . .      . . . . . . . . . . . . . . .
 . 18. 18. 24. 18. 15. 12. 11.      .   .   .   .   . 1 .   .   .
 . . . . . . . . . . . . . . .      . . . . . . . . . . . . . . .
 . 22. 16. 16. 18. 10. 10. 10.      .   .   .   .   . 1 .   .   .
 . . . . . . . . . . . . . . .      . . . . . . . . . . . . . . .
 . 17. 15. 15. 15. 10. 8 . 8 .      .   .   .   .   .   . 1 .   .
 . . . . . . . . . . . . . . .      . . . . . . . . . . . . . . .
 . 24. 16. 8 . 7 . 8 . 0 .12 .      .   .   .   .   .   . 1 .   .
 . . . . . . . . . . . . . . .      . . . . . . . . . . . . . . .
 . 17. 9 . 8 . 7 . 8 . 6 .12 .      .   .   .   .   .   .   .   .
 . . . . . . . . . . . . . . .      . . . . . . . . . . . . . . .
.FI

The user-provided starting location in the above example is
the boxed 19 in the left-hand map.   The path in the output
shows the lowest cost corridor for moving from the starting
box to the lowest possible point.  This is the path a raindrop
would take in this landscape.
.SH OPTIONS
One or more points can be provided on the command
line. The input options are as follows:
.IP input=\fImapname\fR
Name of cell map containing grid cell cost information.
.IP output=\fImapname\fR
Name of cell map to contain results.
.IP coor=\fIE,N\fR
These are the map E and N grid coordinates of a starting
point.  This option can be repeated for as many points
as desired.  (But, see BUGS below.)
.SH BUGS
Currently, \fIGdrain\fR will not actually provide output for more
than one pair of input coordinates stated on the command line.
.br
\fIGdrain\fR also currently finds only the lowest point in the
input file that can be reached through directly adjacent cells
that are less than or equal in value to the cell reached immediately
prior to it;  therefore, it will not necessarily reach the lowest point
in the input file.  It currently finds \fIpits\fR in the data, rather
than the lowest point present.
.br
Only one least-cost path is currently printed to the output file for
the user.
.SH SEE ALSO
\fIGcost[2G]\fR
.SH AUTHOR
Kewan Q. Khawaja, Intelligent Engineering Systems Laboratory, M.I.T.
