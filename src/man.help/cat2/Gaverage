


Gaverage(2G)         GRASS Reference Manual          Gaverage(2G)



NAME
     Gaverage - Finds average of values in a covermap within
     polygons of a basemap.
     (G Language Tool)

SYNOPSIS
     Gaverage  basemap  [@]covermap  [resultmap]

DESCRIPTION
     Gaverage finds the average value of data in covermap for
     each polygon in basemap and (optionally) stores the results
     in a new map resultmap.

     The resultmap is a reclass of the basemap. It will have
     exactly the same category values as the basemap and the
     category labels for resultmap will contain the average
     values.

     If the @ is specified before the covermap then values to be
     averaged will be obtained from the category file for
     covermap (see example below).  Otherwise, the category
     values which occur in the covermap themselves will be
     averaged.

     If resultmap is not specified, the reclass rules that would
     have been used to generate the result map are printed.

EXAMPLE
     Assume that farms is a map with 7 farms, and that
     soils.Kfactor is a map of soil K factor values with the
     following category file:

                          cat   label
                           0    no soil data
                           1    .10
                           2    .15
                           3    .17
                           4    .20
                           5    .24
                           6    .28
                           7    .32
                           8    .37
                           9    .43

     Then

              Gaverage  farms  @soils.Kfactor  K.by.farm

     will compute the average soil K factor for each farm, and
     store the result in the resultant map K.by.farm, which will
     be a reclass of farms with category labels as follows
     (example only):



GRASS 3.2                U.S. Army CERL                         1






Gaverage(2G)         GRASS Reference Manual          Gaverage(2G)



                             cat   label
                              1    .1023
                              2    .1532
                              3    .172
                              4    .3872
                              5    .003
                              6    .28
                              7    .2345


NOTES
     (1)  The @ operator requires that the category label for
          each category in the covermap be a valid number,
          integer or decimal.  To be exact, if the first item in
          the label is numeric, then that value is used.
          Otherwise zero is used. The following table covers all
          possible cases:

                     category label   value used by @
                     ________________________________
                        .12              .12
                        .80 KF           .8
                        no data          0

          (This operator is very similar to the @ operator in
          Gmapcalc[2], and the user is encouraged to read the
          manual entry for Gmapcalc[2] to see how it works
          there.)


     (2)  The user should use the results of Gaverage with care.
          Since this utility assigns a value to each cell which
          is based on global information (i.e., information at
          spatial locations other than just the location of the
          cell itself), the resultant map is only valid if the
          window and mask are the same as they were at the time
          that the result map was created.


SEE ALSO
     Greclass[2], Gmapcalc[2], Gstats[2].


AUTHOR
     Michael Shapiro, U.S. Army Construction Engineering Research
     Laboratory









GRASS 3.2                U.S. Army CERL                         2



