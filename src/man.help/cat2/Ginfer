


Ginfer(2G)           GRASS Reference Manual            Ginfer(2G)



NAME
     Ginfer - Cell map overlay tool
     (G Lanuage Tool)

SYNOPSIS
     Ginfer [-t -v] input_file

DESCRIPTION
     Ginfer is an inference engine which applies a set of user-
     specified rules to named map layers.  A new map layer infer
     is created as output, whose category contents relects the
     ability of each grid cell in the named layers to satisfy the
     named conditions.

     Ginfer commands (conditions and consequences) are typed into
     a file by the user using a system editor such as vi, and
     then input to Ginfer as the input_file named on the command
     line.  The results are used to generate a new map layer
     named infer in the current mapset.  The two options -t(est)
     and -v(erbose) are described in the OPTIONS section below.
     This program performs analyses similar to the GRASS command
     combine[1], but uses a (possibly) more pleasing syntax and
     approach.

     The following commands are available in Ginfer
      Command      Aliases        Followed By             Such As
     ___________________________________________________________________
     IFMAP        ANDIFMAP    cellmap cat#          geology 2
                  ANDMAP
     ___________________________________________________________________
     IFNOTMAP     ANDNOTMAP   cellmap cat#          geology 2
     ___________________________________________________________________
     THENMAPHYP               cat# [statement]      3 nice vacation spot
     ___________________________________________________________________
     THEN                     statement             No sandstone
                              condition
     ___________________________________________________________________
     IF           AND         predefined            No sandstone
                  ANDIF       statement condition

               |
               |
               |
               |
               |
               |
               |
               |
               |
               |
               |
               |
               |
               |












                           |
                           |
                           |
                           |
                           |
                           |
                           |
                           |
                           |
                           |
                           |
                           |
                           |
                           |












                                                 |
                                                 |
                                                 |
                                                 |
                                                 |
                                                 |
                                                 |
                                                 |
                                                 |
                                                 |
                                                 |
                                                 |
                                                 |
                                                 |














     These five commands may be used to formulate statements with
     functions ranging from a simple reclassification to a more
     complex expert system type application.  Statements are
     composed of one or more conditions followed by one or more
     hypotheses and/or conclusions.  The use of aliases is
     provided to allow for the use of a command which has an
     English meaning consistent with the logic at that point.

     Following is a description of each of the five commands.
     The map layers used in the examples are in the Spearfish
     sample database.




GRASS 3.2                U.S. Army CERL                         1






Ginfer(2G)           GRASS Reference Manual            Ginfer(2G)



  IFMAP
  Map condition.
  Map conditions are questions to each grid cell about the
     presence of specified map layer categories.  Ginfer
     questions each grid cell in the named map layer (here,
     geology) about its contents (i.e., category).  Grid cells
     which satisfy the named condition(s) stated by IFMAP (i.e.,
     here, those grid cells which contain geology map layer
     categories 4 or 5) will be assigned the subsequently-stated
     map conclusion or hypothesis (category), in the new map
     layer infer.  Grid cells which fail to satisfy named map
     condition(s) will continue to move down through the user's
     input_file (searching for conditions it is able to satisfy)
     if any additional conclusions/hypotheses are stated in the
     file, or will be assigned category zero in the new map layer
     infer (if no additional conclusions/hypotheses are possible
     in this input_file).

     example:  IFMAP geology 4 5


  IFNOTMAP
  Map condition.
  Like IFMAP, but instead questions each grid cell about the
     absence of specified map layer categories.  Grid cells which
     meet the IFNOTMAP conditions (i.e., below, those grid cells
     which do NOT include owner map layer category 2) will be
     assigned the named conclusionothesis, in the new map layer
     infer.

     example: IFNOTMAP owner 2



  THENMAPHYP
  Map conclusion.
  Assigns each grid cell a specified category in the new map
     layer infer based on the grid cell's ability or failure to
     meet conditions named above this THENMAPHYP statement in the
     input_file.  The user should note that although the user can
     specify a uniquely-named input_file, Ginfer always directs
     its output to a file named infer in the current mapset
     (overwriting whatever is currently in this file).
     Therefore, if the user wishes to save this file for future
     use, this file should be renamed before the user next runs
     Ginfer (e.g., using the GRASS commands rename[1] or
     Grename[2G]).

     It is important to realize that Ginfer runs through the
     conditions stated in the named input_file one grid cell at a
     time, moving from the top of the input file to the bottom of
     the input file.  As soon as the grid cell currently being



GRASS 3.2                U.S. Army CERL                         2






Ginfer(2G)           GRASS Reference Manual            Ginfer(2G)



     examined by Ginfer satisfies a set of conditions, it is
     assigned a category in the new map layer infer.  Ginfer does
     NOT check to see if that same grid cell satisfies other
     conditions named further down in the input file, too.
     Instead, it moves on to the next grid cell, and begins anew
     with the conditions named at the top of the input file.
     Essentially, this means that conclusions made higher-up in
     the input file have precedence over conditions named further
     down in the input file.


     example:   IFMAP density 1
               THENMAPHYP 1 no trees

     In the above example, all cells having a category value of 1
     (non-forest) in the map layer "density," are assigned a
     category value of 1 in the resultant map layer infer.  The
     trailing text "no trees" is entered into the category
     support file for category 1 in the new map layer infer.


  THEN
  Statement hypothesis.
  At the conclusion of one or several condition statements,
     instead of making a map conclusion as with THENMAPHYP, the
     conditions are used to create a hypothesis. This may then be
     referenced in later statements using the IF command.  The
     trailing text at the end of the THEN statement is used as
     the means with which to reference the hypothesis.  An
     example follows the description of IF below.


  IF
  Statement condition.
  States a condition based on an hypothesis that was created by a
     previous THEN statement. IF may be used only after a THEN
     has set up the group of statements that are to be referenced
     later.


     example:  IFMAP elevation.255 170-255
               ANDIFMAP density 3 4
               THEN high elevation with trees
               !
               IF high elevation with trees
               ANDIFMAP owner 2
               THENMAPHYP 1 this is the place

     The above example queries each grid cell for the presence of
     both elevations greater than 1580 meters (i.e., for
     elevation.255 categories 170-255) and a medium to high
     density of trees (i.e., density categories 3 4).  All areas



GRASS 3.2                U.S. Army CERL                         3






Ginfer(2G)           GRASS Reference Manual            Ginfer(2G)



     (i.e., grid cells) that satisfy these criteria are assigned
     to the hypothesis "high elevation with trees." The "!"
     simply tells Ginfer to ignore whatever appears on that line
     (a comment statement), and is used here for readability.

     The IF statement then references grid cells having "high
     elevation with trees" (i.e., those grid cells that satisfied
     both of the above conditions named by the IFMAP and ANDIFMAP
     statements).  If a grid cell both has "high elevations with
     trees" and owner map layer category 2 (areas owned by the
     Forest Service), it is assigned by the THENMAPHYP statement
     to category 1 in the new map layer infer.  The trailing text
     "this is the place" is automatically entered into the
     category support file for the new map infer.  Grid cells
     failing to meet all of the conditions stated in this input
     file will be assigned category 0 in the new map layer infer.

OPTIONS
     -t   Allows the user to run Ginfer in test mode.  The user
          is questioned about the truth of each condition named
          in the file.  Ginfer then outputs the value that would
          be placed in the new layer infer for a grid cell
          meeting conditions in the way specified by the user.
          When no sets of conditions stated in the input file are
          satisfied (based upon the user's answers), cell values
          of zero are output.  Test mode is used to test the
          accuracy of the user's logic.  Users are encouraged to
          run Ginfer in test mode prior to actually creating map
          layers.


     -v   Provides verbose information about each cell as it is
          analyzed according to the statement conditions.

SEE ALSO
     GRASS Tutorial: Ginfer
     combine[1], rename[1], weight[1], Gmapcalc[2G], Grename[2G],
     Gweight[2G]

AUTHOR
     James Westervelt, U.S. Army Construction Engineering
     Research Laboratory
     Special recognition goes to:

     George W. Hageman
     SOFTMAN Enterprises
     P.O. Box 11234
     Boulder, Colorado  80301

     Daniel S. Cox
     In Touch
     796 West Peachtree St. NE



GRASS 3.2                U.S. Army CERL                         4






Ginfer(2G)           GRASS Reference Manual            Ginfer(2G)



     Atlanta, GA 30308

     Mr. Hageman, in the spring of 1986, submitted an inference
     engine to the UNIX network.  Mr. Cox reworked the code
     submitting an new version shortly thereafter.  It is this
     code that forms the guts of Ginfer.

















































GRASS 3.2                U.S. Army CERL                         5



