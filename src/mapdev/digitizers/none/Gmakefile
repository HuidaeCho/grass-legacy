
LIBTRANS	= ../../libes/libtrans.a
LIBDIGIT	= ../../digit/libdigit.a

DIG_DRIVER		= $(ETC)/dig_drivers
#  specific driver we are compiling
DRIVER_DIR	= $(DIG_DRIVER)/none


COMPILE_DIGIT 	= $(LDFLAGS) -o  digit  $(OBJ) $(LIBDIGIT) $(DIGLIB) $(LIBTRANS) $(DIG_ATTLIB) $(D_LIB) $(DISPLAYLIB) $(RASTERLIB) $(VASKLIB) $(CURSES) $(MATHLIB) $(GISLIB)

EXTRA_CFLAGS	= $(DIGIFLAGS)  $(DIGITFLAGS) -I../libes -I../lib 


OBJ = \
	coll_pts.o \
	dig_curses.o \
	dig_dev.o \
	interface.o \
	setup_driver.o


all:  driver 

#
#  These directories will be made by this Gmake:
#  $(ETC)/dig_drivers  $(ETC)/dig_drivers/none
#
#  The 'none' driver is a NULL driver .
#
#  If a new digitizer driver is created a directory
#  $(ETC)/dig_drivers/driver_name will have to be created to store the driver
#  programs.  The directory MUST match the 'name' in the digitcap file.
#


driver: mk_driver_dev  mk_driver_dig

#  make directory that contains all the drivers and altek  in ../etc
$(DRIVER_DIR):
	mkdir $(DRIVER_DIR)



mk_driver_dev:
	@echo "";   echo	'  Compiling  NONE  driver.';  echo ""
#  make sure libdigit.a is there
	$(GMAKE)  $(SRC)/mapdev/digit

mk_driver_dig: $(OBJ) $(DRIVER_DIR)
#  compile driver into the program
	$(CC) $(COMPILE_DIGIT)
	rm -f $(DRIVER_DIR)/digit
	mv digit $(DRIVER_DIR)/digit


coll_pts.o: ../../libes  ../../digit/digit.h  ../../digit/globals.h 
dig_curses.o:  dig_menu.h
dig_curses.o:  ../../digit/digit.h
dig_curses.o:  ../../digit/menu.h
dig_curses.o:  ../../digit/curses.c
dig_curses.o:  ../../libes/head.h

